
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Sales Channel Guide</title>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-P2LGV7S');</script>
    <!-- End Google Tag Manager -->
    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #272822;
  background-color: #f92672;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #75715e;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #f8f8f2;
}
.highlight .p, .highlight .pi {
  color: #f8f8f2;
}
.highlight .gi {
  color: #a6e22e;
}
.highlight .gd {
  color: #f92672;
}
.highlight .gh {
  color: #66d9ef;
  background-color: #272822;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #ae81ff;
}
.highlight .kc {
  color: #fd971f;
}
.highlight .kt {
  color: #fd971f;
}
.highlight .kd {
  color: #fd971f;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #a6e22e;
}
.highlight .sr {
  color: #a1efe4;
}
.highlight .si {
  color: #cc6633;
}
.highlight .se {
  color: #cc6633;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #66d9ef;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #a6e22e;
}
.highlight .ss {
  color: #a6e22e;
}
      .tab-json--inline table td { padding: 5px; }
.tab-json--inline table pre { margin: 0; }
.tab-json--inline, .tab-json--inline .w {
  color: #586e75;
}
.tab-json--inline .err {
  color: #002b36;
  background-color: #dc322f;
}
.tab-json--inline .c, .tab-json--inline .cd, .tab-json--inline .cm, .tab-json--inline .c1, .tab-json--inline .cs {
  color: #657b83;
}
.tab-json--inline .cp {
  color: #b58900;
}
.tab-json--inline .nt {
  color: #b58900;
}
.tab-json--inline .o, .tab-json--inline .ow {
  color: #93a1a1;
}
.tab-json--inline .p, .tab-json--inline .pi {
  color: #93a1a1;
}
.tab-json--inline .gi {
  color: #859900;
}
.tab-json--inline .gd {
  color: #dc322f;
}
.tab-json--inline .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.tab-json--inline .k, .tab-json--inline .kn, .tab-json--inline .kp, .tab-json--inline .kr, .tab-json--inline .kv {
  color: #6c71c4;
}
.tab-json--inline .kc {
  color: #cb4b16;
}
.tab-json--inline .kt {
  color: #cb4b16;
}
.tab-json--inline .kd {
  color: #cb4b16;
}
.tab-json--inline .s, .tab-json--inline .sb, .tab-json--inline .sc, .tab-json--inline .sd, .tab-json--inline .s2, .tab-json--inline .sh, .tab-json--inline .sx, .tab-json--inline .s1 {
  color: #859900;
}
.tab-json--inline .sr {
  color: #2aa198;
}
.tab-json--inline .si {
  color: #d33682;
}
.tab-json--inline .se {
  color: #d33682;
}
.tab-json--inline .nn {
  color: #b58900;
}
.tab-json--inline .nc {
  color: #b58900;
}
.tab-json--inline .no {
  color: #b58900;
}
.tab-json--inline .na {
  color: #268bd2;
}
.tab-json--inline .m, .tab-json--inline .mf, .tab-json--inline .mh, .tab-json--inline .mi, .tab-json--inline .il, .tab-json--inline .mo, .tab-json--inline .mb, .tab-json--inline .mx {
  color: #859900;
}
.tab-json--inline .ss {
  color: #859900;
}
    </style>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <link href="../stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="../stylesheets/print.css" rel="stylesheet" media="print" />
    <link href="../images/favicon.ico" rel="icon" type="image/ico" />
    <script src="../javascripts/all.js"></script>
  </head>

  <body class="guides guides_sales" data-languages="[&quot;ruby&quot;,&quot;shell&quot;]">
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P2LGV7S"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <div class="site-topbar">
      <a class="site-topbar__link" target="_blank" href="https://tradegecko.com/blog/tradegecko/acquired-by-intuit">TradeGecko is now QuickBooks Commerce.</a>
    </div>

    <div class="base">
      <div class="base__header">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <header class='site-header'>
          <div class="site-header__branding col-sm p-0">
            <a href="/" class="site-header__logo" ></a>
            <a href="/" class="site-header__title" >Developer
            </a>
            <i class="burger fas fa-bars" class="burger"></i>
            <nav>
              <a class="nav-link" href="/">Home</a>
              <a class="nav-link" href="/docs.html">API Docs</a>
              <a class="nav-link" href="https://go.tradegecko.com/apps" target="_blank">App Store</a>
              <a class="nav-link" href="https://github.com/tradegecko/smaug/issues" target="_blank">Community</a>
              <a class="nav-link" href="/changes.html">Changelog</a>
            </nav>
          </div>
        </header>
      </div>
    </div>
  </div>
  <div>
    <div class="container">
      <div class="search-wrapper">
  <div class="search">
    <input type="text" class="search" id="input-search" placeholder="Search the API docs...">
  </div>
  <ul class="search-results"></ul>
</div>

    </div>
  </div>
</div>

      <div class="base__body">
        <div class="container content">
          <div class="guides-main-container">
  <div>
    <h1 class="mt-2">Sales Channel Guide</h1>
    <p>Use QuickBooks Commerce APIs and webhooks to build sales channel integrations, allowing merchants to import orders and products from online stores or marketplaces and to sell anywhere and everywhere.</p>

    In this guide:
    <ul class="mt-2">
        <li><a href="#sales_channel_resources">Sales Channel Resources</a></li>
        <li><a href="#authorising_your_sales_channel_integration">Authorising Your Sales Channel Integration</a></li>
        <li><a href="#publishing_products_from_tradegecko_to_a_sales_channel">Publishing Products from QuickBooks Commerce to a Sales Channel</a></li>
        <li><a href="#importing_orders_from_a_sales_channel_to_tradegecko">Importing Orders from a Sales Channel to QuickBooks Commerce</a></li>
        <li><a href="#handling_returns">Handling Returns</a></li>
        <li><a href="#additional_resources">Additional Resources</a></li>
        <li><a href="#support">Support</a></li>
    </ul>
  </div>

  <div id="sales_channel_resources" class="guide-section">
    <h2>Sales Channel Resources</h2>
    <p>Before you start working on a sales channel integration with QuickBooks Commerce, it’s helpful to understand some of the different sales channel related resources.</p>
    <ul class="mt-2">
        <li class="mt-1"><b>Sales Order</b>:&nbsp;Contains information about a sales order, its associated order line items and fulfillments. Order line items contain information such as variants and tax types</li>
          <ul>
              <li>An order in QuickBooks Commerce can have 1 of 6 statuses:&nbsp;<code>draft</code>, <code>active</code>, <code>finalized</code>, <code>fulfilled</code>, <code>void</code> or <code>deleted</code>.</li>
          </ul>
        <li class="mt-1"><b>Fulfillment</b>:&nbsp;Represents a shipment of one or more items in a sales order. It includes the line item that the fulfillment applies to, its tracking information and the location of the fulfillment</li>
          <ul>
              <li>A fulfillment object in QuickBooks Commerce can have 1 of 4 statuses:&nbsp;<code>packed</code>, <code>fulfilled</code>, <code>void</code> or <code>deleted</code>.</li>
          </ul>
        <li class="mt-1"><b>Company</b>:&nbsp;Represents a merchant's supplier or customer created and stored in the QuickBooks Commerce Relationships section</li>
        <li class="mt-1"><b>Address</b>:&nbsp;Represents a physical address associated with a merchant's company</li>
    </ul>
  </div>

  <div id="authorising_your_sales_channel_integration" class="guide-section">
    <h2>Authorising Your Sales Channel Integration</h2>
    <p>QuickBooks Commerce uses OAuth to authorize third party integrations. As part of the OAuth flow, QuickBooks Commerce obtains the user’s authorization and issues an access token that your sales channel can use to interact with the API. To find out more, refer to our <a href="/docs.html#oauth-authentication-flows" target="_blank">OAuth docs</a>.</p>
  </div>

  <div id="publishing_products_from_quickbooks_commerce_to_a_sales_channel" class="guide-section">
    <h2>Publishing Products from QuickBooks Commerce to a Sales Channel</h2>
    <p></p>
    <ul>
      <li>Step 1:&nbsp;Get a product, its variants and their inventory levels.</li>
      <li>Step 2 (optional):&nbsp;Receive an alert whenever a merchant creates a new product or variant in QuickBooks Commerce</li>
      <li>Step 3:&nbsp;Receive an alert whenever the stock level for a variant is updated in QuickBooks Commerce</li>
    </ul>

    <div class="step-section">
      <h3>Step 1:&nbsp;Get a product, its variants and their inventory levels.</h3>

<div class="lang-selector">
      <a href="#" data-language-name="ruby">ruby</a>
      <a href="#" data-language-name="shell">shell</a>
</div>
<pre class="highlight ruby tab-ruby"><code>  <span class="nb">require</span> <span class="s1">'gecko-ruby'</span>
  <span class="n">gecko</span> <span class="o">=</span> <span class="no">Gecko</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="o">&lt;</span><span class="no">OAUTH_ID</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">OAUTH_SECRET</span><span class="o">&gt;</span><span class="p">)</span>
  <span class="n">access_token</span> <span class="o">=</span> <span class="no">OAuth2</span><span class="o">::</span><span class="no">AccessToken</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">gecko</span><span class="p">.</span><span class="nf">oauth_client</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">ACCESS_TOKEN</span><span class="o">&gt;</span><span class="p">)</span>
  <span class="n">gecko</span><span class="p">.</span><span class="nf">access_token</span> <span class="o">=</span> <span class="n">access_token</span>
  <span class="n">gecko</span><span class="o">.</span><span class="no">Product</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

  <span class="p">{</span>
    <span class="s2">"product"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2015-11-02T01:22:24.817Z"</span><span class="p">,</span>
      <span class="s2">"updated_at"</span><span class="p">:</span> <span class="s2">"2015-11-02T01:22:24.817Z"</span><span class="p">,</span>
      <span class="s2">"variant_ids"</span><span class="p">:</span> <span class="p">[</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">2</span>
      <span class="p">],</span>
      <span class="sr">//</span> <span class="n">more</span> <span class="n">fields</span>
    <span class="p">}</span>
  <span class="p">}</span>
</code></pre><pre class="highlight shell tab-shell"><code>  curl -X GET -H <span class="s2">"Content-type: application/json"</span> -H <span class="s2">"Authorization: Bearer &lt;ACCESS_TOKEN&gt;"</span>
  https://api.tradegecko.com/products/1?include<span class="o">=</span>variants

  <span class="o">{</span>
    <span class="s2">"variants"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"id"</span>: 1,
        <span class="s2">"created_at"</span>: <span class="s2">"2015-11-02T01:22:24.817Z"</span>,
        <span class="s2">"updated_at"</span>: <span class="s2">"2015-11-02T01:22:24.817Z"</span>,
        <span class="s2">"locations"</span>: <span class="o">[</span>
          <span class="o">{</span>
            <span class="s2">"location_id"</span>: 1,
            <span class="s2">"stock_on_hand"</span>: <span class="s2">"10"</span>,
            <span class="s2">"committed"</span>: <span class="s2">"3"</span>,
            <span class="s2">"incoming"</span>: null,
            <span class="s2">"bin_location"</span>: null,
            <span class="s2">"reorder_point"</span>: null
          <span class="o">}</span>
        <span class="o">]</span>
        // more fields
      <span class="o">}</span>
    <span class="o">]</span>,
    <span class="s2">"product"</span>: <span class="o">{</span>
      <span class="s2">"id"</span>: 1,
      <span class="s2">"created_at"</span>: <span class="s2">"2015-11-02T01:22:24.817Z"</span>,
      <span class="s2">"updated_at"</span>: <span class="s2">"2015-11-02T01:22:24.817Z"</span>,
      <span class="s2">"variant_ids"</span>: <span class="o">[</span>
        1
      <span class="o">]</span>,
      // more fields
    <span class="o">}</span>
  <span class="o">}</span>
</code></pre>
<p><h3><b>Tips:</b></h3>
      <ul>
          <li>As QuickBooks Commerce does not enforce variant SKU uniqueness, you are advised to use the QuickBooks Commerce variant id instead of SKU to create any mapping between QuickBooks Commerce and sales channel variants. This will ensure that incoming sales orders are linked to the correct QuickBooks Commerce variants.</li>
      </ul>
      <h3>Notes:</h3>
      <ul>
          <li>For each variant, we return <code>locations</code>, an array of per-warehouse inventory data about the current variant.</li>
          <li>When a variant&#39;s <code>manage_stock</code> attribute is set to false, the variant&#39;s stock level will not be tracked by QuickBooks Commerce.</li>
          <li>When a variant&#39;s <code>keep_selling</code> attribute is set to true, the variant can continue to be sold even when the stock level is zero or negative.</li>
          <li>If the variant has a <code>max_online</code> value defined, the sales channel should not display stock levels higher than this value.</li>
          <li>In QuickBooks Commerce, images belong to products. Each image can be assigned to multiple variants of the product. Use the <a target="_blank" href="/docs.html#retrieve-a-particular-image">image endpoint</a> to retrieve variant images.</li>
          <li>Variants may have different prices across price lists. To determine the variant prices to be displayed on the sales channel, you may need to retrieve the merchant&#39;s price lists by making a GET request to the price lists endpoint (<code>GET /price_lists</code>). Some relevant price lists include:&nbsp;</li>
            <ul>
                <li>The <code>default_order_price_list_id</code> which you can retrieve from the <a href="/docs.html#account" target="_blank">account endpoint.</a></li>
                <li>The <code>default_price_list_id</code> which you can retrieve from the <a href="/docs.html#company" target="_blank">company endpoint.</a></li>
            </ul>
      </ul>
    </div></p>

<p><div class="step-section">
      <h3>Step 2 (optional):&nbsp;Receive an alert whenever a merchant creates a new product or variant in QuickBooks Commerce</h3>
      <p>Subscribe to the <code>product.create</code> and <code>variant.create</code> webhooks to be notified when a new product or variant is created by the merchant.</p>
<div class="lang-selector">
      <a href="#" data-language-name="ruby">ruby</a>
      <a href="#" data-language-name="shell">shell</a>
</div>
<pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">&#39;gecko-ruby&#39;</span>
<span class="n">gecko</span> <span class="o">=</span> <span class="no">Gecko</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="o">&lt;</span><span class="no">OAUTH_ID</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">OAUTH_SECRET</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">access_token</span> <span class="o">=</span> <span class="no">OAuth2</span><span class="o">::</span><span class="no">AccessToken</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">gecko</span><span class="p">.</span><span class="nf">oauth_client</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">ACCESS_TOKEN</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">gecko</span><span class="p">.</span><span class="nf">access_token</span> <span class="o">=</span> <span class="n">access_token</span>
<span class="n">webhook</span> <span class="o">=</span> <span class="n">gecko</span><span class="o">.</span><span class="no">Webhook</span><span class="p">.</span><span class="nf">build</span><span class="p">(</span><span class="ss">:address</span><span class="o">=&gt;</span><span class="s2">&quot;https://mywebsite.com/webhooks&quot;</span><span class="p">,</span> <span class="ss">:event</span><span class="o">=&gt;</span><span class="s2">&quot;product.create&quot;</span><span class="p">)</span>
<span class="n">webhook</span><span class="p">.</span><span class="nf">save</span></p>

<p><span class="p">{</span>
  <span class="s2">&quot;webhook&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-09-24T11:12:49.244Z&quot;</span><span class="p">,</span>
    <span class="s2">&quot;updated_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-09-24T11:12:49.244Z&quot;</span><span class="p">,</span>
    <span class="s2">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;product.create&quot;</span><span class="p">,</span>
    <span class="s2">&quot;address&quot;</span><span class="p">:</span> <span class="s2">&quot;https://mywebsite.com/webhooks&quot;</span><span class="p">,</span>
    <span class="s2">&quot;oauth_application_id&quot;</span><span class="p">:</span> <span class="mi">1</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl -X POST -H <span class="s2">&quot;Content-type: application/json&quot;</span> -H <span class="s2">&quot;Authorization: Bearer &lt;ACCESS_TOKEN&gt;&quot;</span>
https://api.tradegecko.com/webhooks/ -d <span class="s1">&#39;{&quot;webhook&quot;:{&quot;address&quot;:&quot;https://mywebsite.com/webhooks&quot;,&quot;event&quot;:&quot;product.create&quot;}}&#39;</span></p>

<p><span class="o">{</span>
  <span class="s2">&quot;webhook&quot;</span>: <span class="o">{</span>
    <span class="s2">&quot;id&quot;</span>: 1,
    <span class="s2">&quot;created_at&quot;</span>: <span class="s2">&quot;2018-09-24T11:12:49.244Z&quot;</span>,
    <span class="s2">&quot;updated_at&quot;</span>: <span class="s2">&quot;2018-09-24T11:12:49.244Z&quot;</span>,
    <span class="s2">&quot;event&quot;</span>: <span class="s2">&quot;product.create&quot;</span>,
    <span class="s2">&quot;address&quot;</span>: <span class="s2">&quot;https://mywebsite.com/webhooks&quot;</span>,
    <span class="s2">&quot;oauth_application_id&quot;</span>: 1
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>
    </div></p>

<p><div class="step-section">
      <h3>Step 3:&nbsp;Receive an alert whenever the stock level for a variant is updated in QuickBooks Commerce</h3>
      <p>Subscribe to the <code>variant.stock_level_update</code> webhook to be notified when the stock level for a variant is updated in QuickBooks Commerce.</p>
<div class="lang-selector">
      <a href="#" data-language-name="ruby">ruby</a>
      <a href="#" data-language-name="shell">shell</a>
</div>
<pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">&#39;gecko-ruby&#39;</span>
<span class="n">gecko</span> <span class="o">=</span> <span class="no">Gecko</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="o">&lt;</span><span class="no">OAUTH_ID</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">OAUTH_SECRET</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">access_token</span> <span class="o">=</span> <span class="no">OAuth2</span><span class="o">::</span><span class="no">AccessToken</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">gecko</span><span class="p">.</span><span class="nf">oauth_client</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">ACCESS_TOKEN</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">gecko</span><span class="p">.</span><span class="nf">access_token</span> <span class="o">=</span> <span class="n">access_token</span>
<span class="n">webhook</span> <span class="o">=</span> <span class="n">gecko</span><span class="o">.</span><span class="no">Webhook</span><span class="p">.</span><span class="nf">build</span><span class="p">(</span><span class="ss">:address</span><span class="o">=&gt;</span><span class="s2">&quot;https://mywebsite.com/webhooks&quot;</span><span class="p">,</span> <span class="ss">:event</span><span class="o">=&gt;</span><span class="s2">&quot;variant.stock_level_update&quot;</span><span class="p">)</span>
<span class="n">webhook</span><span class="p">.</span><span class="nf">save</span></p>

<p><span class="p">{</span>
  <span class="s2">&quot;webhook&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-09-24T11:12:49.244Z&quot;</span><span class="p">,</span>
    <span class="s2">&quot;updated_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-09-24T11:12:49.244Z&quot;</span><span class="p">,</span>
    <span class="s2">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;variant.stock_level_update&quot;</span><span class="p">,</span>
    <span class="s2">&quot;address&quot;</span><span class="p">:</span> <span class="s2">&quot;https://mywebsite.com/webhooks&quot;</span><span class="p">,</span>
    <span class="s2">&quot;oauth_application_id&quot;</span><span class="p">:</span> <span class="mi">1</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl -X POST -H <span class="s2">&quot;Content-type: application/json&quot;</span> -H <span class="s2">&quot;Authorization: Bearer &lt;ACCESS_TOKEN&gt;&quot;</span>
https://api.tradegecko.com/webhooks/ -d <span class="s1">&#39;{&quot;webhook&quot;:{&quot;address&quot;:&quot;https://mywebsite.com/webhooks&quot;,&quot;event&quot;:&quot;variant.stock_level_update&quot;}}&#39;</span></p>

<p><span class="o">{</span>
  <span class="s2">&quot;webhook&quot;</span>: <span class="o">{</span>
    <span class="s2">&quot;id&quot;</span>: 1,
    <span class="s2">&quot;created_at&quot;</span>: <span class="s2">&quot;2018-09-24T11:12:49.244Z&quot;</span>,
    <span class="s2">&quot;updated_at&quot;</span>: <span class="s2">&quot;2018-09-24T11:12:49.244Z&quot;</span>,
    <span class="s2">&quot;event&quot;</span>: <span class="s2">&quot;variant.stock_level_update&quot;</span>,
    <span class="s2">&quot;address&quot;</span>: <span class="s2">&quot;https://mywebsite.com/webhooks&quot;</span>,
    <span class="s2">&quot;oauth_application_id&quot;</span>: 1
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>
    </div>
  </div></p>

<p><div id="importing_orders_from_a_sales_channel_to_quickbooks_commerce" class="guide-section">
    <h2>Importing Orders from a Sales Channel to QuickBooks Commerce</h2>
    <p>Each order includes an array of order line items that needs to be fulfilled. Each order line item can be packed and fulfilled separately, depending on how the inventory is packed and managed.</p>
    <ul>
      <li>Step 1:&nbsp;Create a sales order.</li>
      <li>Step 2 (optional):&nbsp;Invoice and mark the sales order as paid.</li>
      <li>Step 3 (optional):&nbsp;Fulfill a sales order.</li>
      <li>Step 4 (optional):&nbsp;Cancel a sales order.</li>
    </ul></p>

<p><div class="step-section">
      <h3>Step 1:&nbsp;Create a sales order.</h3>
      <p>For an existing customer with existing addresses, populate the <code>company_id</code> attribute with the customer&#39;s QuickBooks Commerce id, and the <code>shipping_address_id</code> and <code>billing_address_id</code> attributes with appropriate QuickBooks Commerce address ids. Do note that the <code>billing_address_id</code> defaults to the <code>shipping_address_id</code> if it is not provided.</p></p>

<div class="lang-selector">
      <a href="#" data-language-name="ruby">ruby</a>
      <a href="#" data-language-name="shell">shell</a>
</div>
<pre class="highlight ruby tab-ruby"><code>  <span class="nb">require</span> <span class="s1">'gecko-ruby'</span>
  <span class="n">gecko</span> <span class="o">=</span> <span class="no">Gecko</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="o">&lt;</span><span class="no">OAUTH_ID</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">OAUTH_SECRET</span><span class="o">&gt;</span><span class="p">)</span>
  <span class="n">access_token</span> <span class="o">=</span> <span class="no">OAuth2</span><span class="o">::</span><span class="no">AccessToken</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">gecko</span><span class="p">.</span><span class="nf">oauth_client</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">ACCESS_TOKEN</span><span class="o">&gt;</span><span class="p">)</span>
  <span class="n">gecko</span><span class="p">.</span><span class="nf">access_token</span> <span class="o">=</span> <span class="n">access_token</span>
  <span class="n">order</span> <span class="o">=</span> <span class="n">gecko</span><span class="o">.</span><span class="no">Order</span><span class="p">.</span><span class="nf">build</span><span class="p">({</span><span class="ss">:company_id</span><span class="o">=&gt;</span><span class="mi">1</span><span class="p">,</span> <span class="ss">:issued_at</span><span class="o">=&gt;</span><span class="s2">"Time.now"</span><span class="p">,</span> <span class="ss">:billing_address_id</span><span class="o">=&gt;</span><span class="mi">1</span><span class="p">,</span> <span class="ss">:shipping_address_id</span><span class="o">=&gt;</span><span class="mi">1</span><span class="p">,</span> <span class="ss">:order_line_items</span><span class="o">=&gt;</span><span class="p">[{</span><span class="ss">:variant_id</span><span class="o">=&gt;</span><span class="mi">123</span><span class="p">,</span> <span class="ss">:quantity</span><span class="o">=&gt;</span><span class="mi">2</span><span class="p">},</span> <span class="p">{</span><span class="ss">:variant_id</span><span class="o">=&gt;</span><span class="mi">456</span><span class="p">,</span> <span class="ss">:quantity</span><span class="o">=&gt;</span><span class="mi">5</span><span class="p">}]})</span>
  <span class="n">order</span><span class="p">.</span><span class="nf">save</span>

  <span class="p">{</span>
    <span class="s2">"order"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2015-11-02T01:22:25.524Z"</span><span class="p">,</span>
      <span class="s2">"updated_at"</span><span class="p">:</span> <span class="s2">"2015-11-02T01:22:25.524Z"</span><span class="p">,</span>
      <span class="s2">"shipping_address_id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">"billing_address_id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">"company_id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">"order_line_item_ids"</span><span class="p">:</span> <span class="p">[</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">2</span>
      <span class="p">]</span>
      <span class="sr">//</span> <span class="n">more</span> <span class="n">fields</span>
    <span class="p">}</span>
  <span class="p">}</span>
</code></pre><pre class="highlight shell tab-shell"><code>  curl -X POST -H <span class="s2">"Content-type: application/json"</span> -H <span class="s2">"Authorization: Bearer &lt;ACCESS_TOKEN&gt;"</span>
  https://api.tradegecko.com/orders/ -d <span class="s1">'{"order":{"company_id":1,"issued_at":"Time.now","billing_address_id":1,"shipping_address_id":1,"order_line_items":[{"variant_id":123,"quantity":2},{"variant_id":456,"quantity":5}]}'</span><span class="o">}</span>

  <span class="o">{</span>
    <span class="s2">"order"</span>: <span class="o">{</span>
      <span class="s2">"id"</span>: 1,
      <span class="s2">"created_at"</span>: <span class="s2">"2015-11-02T01:22:25.524Z"</span>,
      <span class="s2">"updated_at"</span>: <span class="s2">"2015-11-02T01:22:25.524Z"</span>,
      <span class="s2">"shipping_address_id"</span>: 1,
      <span class="s2">"billing_address_id"</span>: 1,
      <span class="s2">"company_id"</span>: 1,
      <span class="s2">"order_line_item_ids"</span>: <span class="o">[</span>
        1,
        2
      <span class="o">]</span>
      // more fields
    <span class="o">}</span>
  <span class="o">}</span>
</code></pre>
<p><p>For an existing customer with a new address, you can embed the address when creating a sales order as seen below. Alternatively, you can manually create a new address using the <a href="/docs.html#create-a-new-address" target="_blank">address endpoint</a>.</p></p>

<div class="lang-selector">
      <a href="#" data-language-name="ruby">ruby</a>
      <a href="#" data-language-name="shell">shell</a>
</div>
<pre class="highlight ruby tab-ruby"><code>  <span class="nb">require</span> <span class="s1">'gecko-ruby'</span>
  <span class="n">gecko</span> <span class="o">=</span> <span class="no">Gecko</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="o">&lt;</span><span class="no">OAUTH_ID</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">OAUTH_SECRET</span><span class="o">&gt;</span><span class="p">)</span>
  <span class="n">access_token</span> <span class="o">=</span> <span class="no">OAuth2</span><span class="o">::</span><span class="no">AccessToken</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">gecko</span><span class="p">.</span><span class="nf">oauth_client</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">ACCESS_TOKEN</span><span class="o">&gt;</span><span class="p">)</span>
  <span class="n">gecko</span><span class="p">.</span><span class="nf">access_token</span> <span class="o">=</span> <span class="n">access_token</span>
  <span class="n">order</span> <span class="o">=</span> <span class="n">gecko</span><span class="o">.</span><span class="no">Order</span><span class="p">.</span><span class="nf">build</span><span class="p">({</span><span class="ss">:company_id</span><span class="o">=&gt;</span><span class="mi">1</span><span class="p">,</span> <span class="ss">:issued_at</span><span class="o">=&gt;</span><span class="s2">"Time.now"</span><span class="p">,</span> <span class="ss">:shipping_address_id</span><span class="o">=&gt;</span><span class="mi">1</span><span class="p">,</span> <span class="ss">:order_line_items</span><span class="o">=&gt;</span><span class="p">[{</span><span class="ss">:variant_id</span><span class="o">=&gt;</span><span class="mi">123</span><span class="p">,</span> <span class="ss">:quantity</span><span class="o">=&gt;</span><span class="mi">2</span><span class="p">},</span> <span class="p">{</span><span class="ss">:variant_id</span><span class="o">=&gt;</span><span class="mi">456</span><span class="p">,</span> <span class="ss">:quantity</span><span class="o">=&gt;</span><span class="mi">5</span><span class="p">}]})</span>
  <span class="n">order</span><span class="p">.</span><span class="nf">shipping_address</span><span class="p">.</span><span class="nf">build</span><span class="p">({</span><span class="n">address1</span><span class="o">=&gt;</span><span class="s2">"121 Street"</span><span class="p">,</span> <span class="ss">:label</span><span class="o">=&gt;</span><span class="s2">"my company label"</span><span class="p">,</span> <span class="ss">:company_id</span><span class="o">=&gt;</span><span class="mi">1</span><span class="p">})</span>
  <span class="n">order</span><span class="p">.</span><span class="nf">save</span>

  <span class="p">{</span>
    <span class="s2">"order"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2015-11-02T01:22:25.524Z"</span><span class="p">,</span>
      <span class="s2">"updated_at"</span><span class="p">:</span> <span class="s2">"2015-11-02T01:22:25.524Z"</span><span class="p">,</span>
      <span class="s2">"shipping_address_id"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="s2">"billing_address_id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">"company_id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">"order_line_item_ids"</span><span class="p">:</span> <span class="p">[</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">2</span>
      <span class="p">]</span>
      <span class="sr">//</span> <span class="n">more</span> <span class="n">fields</span>
    <span class="p">}</span>
  <span class="p">}</span>
</code></pre><pre class="highlight shell tab-shell"><code>  curl -X POST -H <span class="s2">"Content-type: application/json"</span> -H <span class="s2">"Authorization: Bearer &lt;ACCESS_TOKEN&gt;"</span>
  https://api.tradegecko.com/orders/ -d <span class="s1">'{"order":{"company_id":1,"issued_at":"Time.now","shipping_address_id":1,"order_line_items":[{"variant_id":123,"quantity":2},{"variant_id":456,"quantity":5}],"billing_address":{"address1":"121 Street","label":"my company label","company_id":1}}'</span><span class="o">}</span>

  <span class="o">{</span>
    <span class="s2">"order"</span>: <span class="o">{</span>
      <span class="s2">"id"</span>: 1,
      <span class="s2">"created_at"</span>: <span class="s2">"2015-11-02T01:22:25.524Z"</span>,
      <span class="s2">"updated_at"</span>: <span class="s2">"2015-11-02T01:22:25.524Z"</span>,
      <span class="s2">"shipping_address_id"</span>: 1,
      <span class="s2">"billing_address_id"</span>: 1,
      <span class="s2">"company_id"</span>: 1,
      <span class="s2">"order_line_item_ids"</span>: <span class="o">[</span>
        1,
        2
      <span class="o">]</span>
      // more fields
    <span class="o">}</span>
  <span class="o">}</span>
</code></pre>
<p><p>For a new customer, you can embed the the company and shipping address when creating a sales order as seen below. Alternatively, you can manually create <a href="/docs.html#create-a-new-company" target="_blank">a new company</a> and <a href="/docs.html#create-a-new-address" target="_blank">a new address</a>.</p></p>

<div class="lang-selector">
      <a href="#" data-language-name="ruby">ruby</a>
      <a href="#" data-language-name="shell">shell</a>
</div>
<pre class="highlight ruby tab-ruby"><code>  <span class="nb">require</span> <span class="s1">'gecko-ruby'</span>
  <span class="n">gecko</span> <span class="o">=</span> <span class="no">Gecko</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="o">&lt;</span><span class="no">OAUTH_ID</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">OAUTH_SECRET</span><span class="o">&gt;</span><span class="p">)</span>
  <span class="n">access_token</span> <span class="o">=</span> <span class="no">OAuth2</span><span class="o">::</span><span class="no">AccessToken</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">gecko</span><span class="p">.</span><span class="nf">oauth_client</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">ACCESS_TOKEN</span><span class="o">&gt;</span><span class="p">)</span>
  <span class="n">gecko</span><span class="p">.</span><span class="nf">access_token</span> <span class="o">=</span> <span class="n">access_token</span>
  <span class="n">order</span> <span class="o">=</span> <span class="n">gecko</span><span class="o">.</span><span class="no">Order</span><span class="p">.</span><span class="nf">build</span><span class="p">({</span><span class="ss">:issued_at</span><span class="o">=&gt;</span><span class="s2">"Time.now"</span><span class="p">,</span> <span class="ss">:order_line_items</span><span class="o">=&gt;</span><span class="p">[{</span><span class="ss">:variant_id</span><span class="o">=&gt;</span><span class="mi">123</span><span class="p">,</span> <span class="ss">:quantity</span><span class="o">=&gt;</span><span class="mi">2</span><span class="p">},</span> <span class="p">{</span><span class="ss">:variant_id</span><span class="o">=&gt;</span><span class="mi">456</span><span class="p">,</span> <span class="ss">:quantity</span><span class="o">=&gt;</span><span class="mi">5</span><span class="p">}]})</span>
  <span class="n">order</span><span class="p">.</span><span class="nf">company</span><span class="p">.</span><span class="nf">build</span><span class="p">({</span><span class="ss">:name</span><span class="o">=&gt;</span><span class="s2">"121 Street"</span><span class="p">,</span> <span class="ss">:company_type</span><span class="o">=&gt;</span><span class="s2">"consumer"</span><span class="p">})</span>
  <span class="n">order</span><span class="p">.</span><span class="nf">shipping_address</span><span class="p">.</span><span class="nf">build</span><span class="p">({</span><span class="n">address1</span><span class="o">=&gt;</span><span class="s2">"121 Street"</span><span class="p">,</span> <span class="ss">:label</span><span class="o">=&gt;</span><span class="s2">"my company label"</span><span class="p">})</span>
  <span class="n">order</span><span class="p">.</span><span class="nf">save</span>

  <span class="p">{</span>
    <span class="s2">"order"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2015-11-02T01:22:25.524Z"</span><span class="p">,</span>
      <span class="s2">"updated_at"</span><span class="p">:</span> <span class="s2">"2015-11-02T01:22:25.524Z"</span><span class="p">,</span>
      <span class="s2">"shipping_address_id"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="s2">"billing_address_id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">"company_id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">"order_line_item_ids"</span><span class="p">:</span> <span class="p">[</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">2</span>
      <span class="p">]</span>
      <span class="sr">//</span> <span class="n">more</span> <span class="n">fields</span>
    <span class="p">}</span>
  <span class="p">}</span>
</code></pre><pre class="highlight shell tab-shell"><code>  curl -X POST -H <span class="s2">"Content-type: application/json"</span> -H <span class="s2">"Authorization: Bearer &lt;ACCESS_TOKEN&gt;"</span>
  https://api.tradegecko.com/orders -d <span class="s1">'{"order":{"issued_at":"2018-06-01","order_line_items":[{"variant_id":2,"quantity":2},{"variant_id":1,"quantity":5}],"shipping_address":{"label":"Office","address1":"123 TG Street"},"company":{"name":"TG Company","company_type":"consumer"}}}'</span>

  <span class="o">{</span>
    <span class="s2">"order"</span>: <span class="o">{</span>
      <span class="s2">"id"</span>: 1,
      <span class="s2">"created_at"</span>: <span class="s2">"2015-11-02T01:22:25.524Z"</span>,
      <span class="s2">"updated_at"</span>: <span class="s2">"2015-11-02T01:22:25.524Z"</span>,
      <span class="s2">"shipping_address_id"</span>: 1,
      <span class="s2">"billing_address_id"</span>: 1,
      <span class="s2">"company_id"</span>: 1,
      <span class="s2">"order_line_item_ids"</span>: <span class="o">[</span>
        1,
        2
      <span class="o">]</span>
      // more fields
    <span class="o">}</span>
  <span class="o">}</span>
</code></pre>
<p></div></p>

<p><div class="step-section">
      <h3>Step 2 (optional):&nbsp;Invoice and mark the sales order as paid.</h3>
      <p></p>
      <p>Create an invoice for a sales order by sending an API call to <code> POST /orders/[:order_id]/actions/invoice</code>. This will create an <a target="_blank" href="/docs.html#invoice">invoice</a> for the sales order. Once the customer has paid for the sales order, mark the sales order as paid by sending an API call to <code>POST /orders/[:order_id]/actions/pay</code>.</p>
      <p>For orders which are paid by credit card, you can send an API call to <code> POST /orders/[:order_id]/actions/pay</code> to both invoice and mark the sales order as paid in one step.</p>
      <p></p>
    </div></p>

<p><div class="step-section">
      <h3>Step 3 (optional):&nbsp;Fulfill a sales order.</h3>
      <p></p>
      <p>Fulfill a sales order by sending an API call to <code>POST /orders/[:order_id]/actions/pack</code>. This creates a fulfillment object with status <code>packed</code> and fires a <code>fulfillment.create</code> webhook. Once the fulfillment has been shipped, send an API call to <code>POST /orders/[:order_id]/actions/fulfil</code> which updates the fulfillment object to status <code>fulfilled</code>.</p>
      <p>Learn more about managing the fulfillment process in QuickBooks Commerce <a target="_blank" href="3pl.html">here</a>.</p>
      <p></p>
    </div></p>

<p><div class="step-section">
      <h3>Step 4 (optional):&nbsp;Cancel a sales order.</h3>
      <p>To cancel a sales order, send an API call to <code>POST /orders/[:order_id]/actions/void</code>.</p>
    </div></p>

<p><div class="step-section">
      <h3>Notes</h3>
      <ul>
          <li>If you want to add additional information to a sales order such as special requests for customers or shipping information, you can set the <code>freeform</code> attribute to true and create or update an order line item with these information.</li>
          <li>When you create a sales order with a variant that cannot be matched to an existing variant in QuickBooks Commerce, either by QuickBooks Commerce id or SKU, you will need to create the variant in QuickBooks Commerce before re-importing the sales order.</li>
          <li>If you want to specify a currency when creating a sales order, pass in the <code>currency_iso</code> when creating or updating a sales order and QuickBooks Commerce would find a matching currency. However, if the currency matching fails, you will need to create the currency first. You can also cache the currencies and check if a particular currency exists before creating a new sales order.</li>
      </ul>
    </div>
  </div></p>

<p><div id="handling_returns" class="guide-section">
      <h2>Handling Returns</h2>
        <p>Depending on a merchant&#39;s return policy, there may be a need to create a fulfillment return or void an order. You can return an entire order or part of an order.</p>
        <p>In the event that your company is handling the return through QuickBooks Commerce API, you can create a <code>fulfillment_return</code> as shown below:&nbsp;</p></p>

<div class="lang-selector">
      <a href="#" data-language-name="ruby">ruby</a>
      <a href="#" data-language-name="shell">shell</a>
</div>
<pre class="highlight ruby tab-ruby"><code>  <span class="nb">require</span> <span class="s1">'gecko-ruby'</span>
  <span class="n">gecko</span> <span class="o">=</span> <span class="no">Gecko</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="o">&lt;</span><span class="no">OAUTH_ID</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">OAUTH_SECRET</span><span class="o">&gt;</span><span class="p">)</span>
  <span class="n">access_token</span> <span class="o">=</span> <span class="no">OAuth2</span><span class="o">::</span><span class="no">AccessToken</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">gecko</span><span class="p">.</span><span class="nf">oauth_client</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">ACCESS_TOKEN</span><span class="o">&gt;</span><span class="p">)</span>
  <span class="n">gecko</span><span class="p">.</span><span class="nf">access_token</span> <span class="o">=</span> <span class="n">access_token</span>
  <span class="n">fulfillment_return</span> <span class="o">=</span> <span class="n">gecko</span><span class="o">.</span><span class="no">FulfillmentReturn</span><span class="p">.</span><span class="nf">build</span><span class="p">({</span><span class="ss">:order_id</span><span class="o">=&gt;</span><span class="mi">1</span><span class="p">,</span> <span class="ss">:fulfillment_return_line_items</span><span class="o">=&gt;</span><span class="p">[{</span><span class="ss">:order_line_item_id</span><span class="o">=&gt;</span><span class="mi">1</span><span class="p">,</span> <span class="ss">:quantity</span><span class="o">=&gt;</span><span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="ss">:order_line_item_id</span><span class="o">=&gt;</span><span class="mi">2</span><span class="p">,</span> <span class="ss">:quantity</span><span class="o">=&gt;</span><span class="mi">1</span><span class="p">}]})</span>
  <span class="n">fulfillment_return</span><span class="p">.</span><span class="nf">save</span>

  <span class="p">{</span>
    <span class="s2">"fulfillment_return"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2015-11-02T01:22:25.535Z"</span><span class="p">,</span>
      <span class="s2">"updated_at"</span><span class="p">:</span> <span class="s2">"2015-11-02T01:22:25.535Z"</span><span class="p">,</span>
      <span class="s2">"order_id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">"location_id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">"delivery_type"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
      <span class="s2">"exchange_rate"</span><span class="p">:</span> <span class="s2">"1.0"</span><span class="p">,</span>
      <span class="s2">"notes"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
      <span class="s2">"received_at"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
      <span class="s2">"tracking_company"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
      <span class="s2">"tracking_number"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
      <span class="s2">"tracking_url"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
      <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"returning"</span><span class="p">,</span>
      <span class="s2">"credit_note_number"</span><span class="p">:</span> <span class="s2">"CN0001"</span><span class="p">,</span>
      <span class="s2">"order_number"</span><span class="p">:</span> <span class="s2">"SO0001"</span><span class="p">,</span>
      <span class="s2">"company_id"</span><span class="p">:</span> <span class="mi">1</span>
    <span class="p">}</span>
  <span class="p">}</span>
</code></pre><pre class="highlight shell tab-shell"><code>  curl -X POST -H <span class="s2">"Content-type: application/json"</span> -H <span class="s2">"Authorization: Bearer &lt;ACCESS_TOKEN&gt;"</span>
  https://api.tradegecko.com/fulfillment_returns/ -d <span class="s1">'{"fulfillment_return":{"order_id":1,"fulfillment_return_line_items":[{"order_line_item_id":1,"quantity":1},{"order_line_item_id":2,"quantity":1}]}'</span><span class="o">}</span>

  <span class="o">{</span>
    <span class="s2">"fulfillment_return"</span>: <span class="o">{</span>
      <span class="s2">"id"</span>: 1,
      <span class="s2">"created_at"</span>: <span class="s2">"2015-11-02T01:22:25.535Z"</span>,
      <span class="s2">"updated_at"</span>: <span class="s2">"2015-11-02T01:22:25.535Z"</span>,
      <span class="s2">"order_id"</span>: 1,
      <span class="s2">"location_id"</span>: 1,
      <span class="s2">"delivery_type"</span>: null,
      <span class="s2">"exchange_rate"</span>: <span class="s2">"1.0"</span>,
      <span class="s2">"notes"</span>: null,
      <span class="s2">"received_at"</span>: null,
      <span class="s2">"tracking_company"</span>: null,
      <span class="s2">"tracking_number"</span>: null,
      <span class="s2">"tracking_url"</span>: null,
      <span class="s2">"status"</span>: <span class="s2">"returning"</span>,
      <span class="s2">"credit_note_number"</span>: <span class="s2">"CN0001"</span>,
      <span class="s2">"order_number"</span>: <span class="s2">"SO0001"</span>,
      <span class="s2">"company_id"</span>: 1
    <span class="o">}</span>
  <span class="o">}</span>
</code></pre>
<p></div></p>

<p><div>
        <h3><b>Tips:</b></h3>
        <ul>
            <li>If fulfillment return creation is handled by the merchant, you can subscribe to the <code>fulfillment_return.create</code> webhook to receive notifications.</li>
        </ul>
      </div></p>

<p><div>
        <h3>Notes: </h3>
        <ul>
            <li>You cannot delete a fulfillment if there are any associated fulfillment returns.</li>
            <li>If a merchant is integrated with an accounting platform on QuickBooks Commerce, creating a fulfillment return would create a credit note on the accounting platform.</li>
            <li>Refunds are currently not supported. If you need an endpoint for the refund process, let us know <a target="_blank" href="https://tradegecko.typeform.com/to/A2ewy0">here</a>.</li>
            <li>You can void an order via the <a target="_blank" href="/docs.html#order-actions">order&#39;s void endpoint</a>.</li>
        </ul>
      </div></p>

<p><div id="additional_resources" class="guide-section">
  <h2>Additional Resources</h2>
  <p>See these additional resources for more information about authorization, webhooks and order actions.</p>
  <ul>
    <li><a target="_blank" href="/docs.html#authentication">Getting API key for Authentication</a></li>
    <li><a target="_blank" href="/docs.html#webhook">Using Webhooks</a></li>
    <li><a target="_blank" href="/docs.html#order-actions">Order Actions</a></li>
    <li><a target="_blank" href="https://github.com/tradegecko/smaug/issues">QuickBooks Commerce API Forum</a></li>
  </ul>
</div></p>

<p><div id="support" class="guide-section">
  <h2>Support</h2>
  <p>For API feature requests, bug reports and other questions related to API guides, contact <a href="mailto:support@tradegecko.com">support@tradegecko.com</a>.</p>
</div></p>

<p></div></p>

        </div>
      </div>
      <div class="feedback-banner">
    <h2>
      Got Feedback? We want to hear from you!
    </h2>
    <a target="_blank" href="https://tradegecko.typeform.com/to/A2ewy0" class="btn btn-big btn-primary" >
      Give Feedback
    </a>
</div>
<div class="base__footer">
  <div class="footer-wrapper">
    <div class="container">
      <div class="row">
          <div class="col-3">
          <h4>Company</h4>
            <ul class="link-list">
                <li><a href="https://www.tradegecko.com/about-us" target="_blank">About us</a></li>
                <li><a href="https://www.tradegecko.com/team" target="_blank">Meet the Team</a></li>
                <li><a href="https://www.tradegecko.com/jobs" target="_blank">Careers</a></li>
                <li><a href="https://www.tradegecko.com/press-kit" target="_blank">Press kit</a></li>
            </ul>
          </div>
          <div class="col-3">
          <h4>Contact</h4>
            <ul class="link-list">
                <li><a href="https://www.tradegecko.com/contact-us" target="_blank">Contact us</a></li>
                <li><a href="mailto:hello@tradegecko.com" target="_blank">Email us</a></li>
                <li><a href="https://www.tradegecko.com/contact-us" target="_blank">Visit us</a></li>
            </ul>
          </div>
          <div class="col-3">
          <h4>Getting Help</h4>
            <ul class="link-list">
                <li><a href="http://support.tradegecko.com" target="_blank">Help Desk</a></li>
                <li><a href="https://www.tradegecko.com/faq" target="_blank">FAQ</a></li>
                <li><a href="https://status.tradegecko.com" target="_blank">Staus</a></li>
            </ul>
          </div>
          <div class="col-3">
          <h4>Partners</h4>
            <ul class="link-list">
                <li><a href="https://www.tradegecko.com/partners" target="_blank">Become a partner</a></li>
                <li><a href="https://partners.tradegecko.com/" target="_blank">Partner portal</a></li>
                <li><a href="https://partners.tradegecko.com/directory" target="_blank">Find a partner</a></li>
                <li><a href="https://developer.tradegecko.com/" target="_blank">Developers & API</a></li>
            </ul>
          </div>
      </div>
    </div>
  </div>
</div>

    </div>

    <link href="https://d3ds1rcygteua7.cloudfront.net/assets/fonts/avenir.css" rel="stylesheet">
    <script>
      window.intercomSettings = {
        app_id: "i0krnes0"
      };
    </script>
    <script>(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',intercomSettings);}else{var d=document;var i=function(){i.c(arguments)};i.q=[];i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/i0krnes0';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);}if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})()</script>
  </body>
  <script>
    var state = false;
    var nav = document.querySelector('nav');
    var burger = document.querySelector('.burger');
    burger.onclick = function(){
      let display = state ? 'none' : 'block';
      nav.style.display = display;
      state = !state;
    }

    var mql = window.matchMedia('(min-width: 767px)');

    function screenTest() {
      nav.style.display = null;
    }

    mql.addListener(screenTest);

  </script>
</html>
